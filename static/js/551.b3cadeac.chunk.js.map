{"version":3,"file":"static/js/551.b3cadeac.chunk.js","mappings":"4PAIMA,EAASC,EAAAA,GAAAA,GACTC,EAAUD,EAAAA,GAAAA,G,cCJhB,GAAgB,UAAY,2B,mBCKb,SAASE,IACtB,OAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,EFDa,SAAyBC,GACtC,OAA4BH,EAAAA,EAAAA,UAAS,IAArC,eAAOI,EAAP,KAAeC,EAAf,KACA,GAAkCL,EAAAA,EAAAA,WAAS,GAA3C,eAAOM,EAAP,KAAkBC,EAAlB,KACA,GAA0BP,EAAAA,EAAAA,UAAS,MAAnC,eAAOQ,EAAP,KAAcC,EAAd,KAgCA,OA9BAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,mCAAG,uFACdR,EADc,uBAEjBE,EAAU,IAFO,iCAMnBE,GAAa,GANM,kBAQMK,EAAAA,EAAAA,IAAA,UAClBd,EADkB,gCACaF,EADb,4DACuEO,IAT7E,OAWO,OAHlBU,EARW,QAWJC,OACXT,EAAUQ,EAASE,KAAKC,SAExBP,EAAS,+BAdM,kDAiBjBA,EAAS,KAAIQ,SAjBI,QAmBnBV,GAAa,GAnBM,0DAAH,qDAsBZW,EAAkBC,YAAW,WACjCR,GACD,GAAE,KAEH,OAAO,kBAAMS,aAAaF,EAAnB,CACR,GAAE,CAACf,IAEG,CAAEC,OAAAA,EAAQE,UAAAA,EAAWE,MAAAA,EAC7B,CEnCsCa,CAAgBpB,GAA7CG,EAAR,EAAQA,OAAQE,EAAhB,EAAgBA,UAAWE,EAA3B,EAA2BA,MAU3B,OAAIF,GAEA,gBAAKgB,UAAWC,EAAAA,UAAhB,UACE,SAAC,KAAD,CACEC,SAAS,EACTC,OAAO,KACPC,MAAM,KACNC,UAAU,iBACVC,aAAc,CAAC,EACfC,aAAa,qBAMjBrB,GACK,qCAAaA,MAIpB,iBAAKc,UAAWC,EAAAA,UAAhB,WACE,eAAID,UAAWC,EAAAA,OAAf,4BACA,kBAAMO,SA1BW,SAAAC,GACnBA,EAAEC,gBACH,EAwBG,WACE,kBACEV,UAAWC,EAAAA,MACXU,KAAK,OACLC,MAAOjC,EACPkC,SAnCa,SAAAJ,GACnB7B,EAAe6B,EAAEK,OAAOF,MACzB,EAkCOG,YAAY,0BAEd,mBAAQJ,KAAK,SAASX,UAAWC,EAAAA,OAAjC,wBAIF,eAAID,UAAWC,EAAAA,KAAf,SACGnB,EAAOkC,KAAI,SAAAC,GAAK,OACf,eAAmBjB,UAAWC,EAAAA,SAA9B,UACE,SAAC,KAAD,CAAMiB,GAAE,kBAAaD,EAAME,IAA3B,SAAkCF,EAAMG,SADjCH,EAAME,GADA,QAQxB,C","sources":["fetch/fetchSearch.js","webpack://react-homework-template/./src/pages/movies/Movies.module.css?c186","pages/movies/Movies.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport apiData from '../API/apiData.json';\n\nconst apiKey = apiData[0].apiKey;\nconst baseUrl = apiData[0].baseUrl;\n\nexport default function useSearchMovies(query) {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const searchMovies = async () => {\n      if (!query) {\n        setMovies([]);\n        return;\n      }\n\n      setIsLoading(true);\n      try {\n        const response = await axios.get(\n          `${baseUrl}search/movie?api_key=${apiKey}&language=en-US&page=1&include_adult=false&query=${query}`\n        );\n        if (response.status === 200) {\n          setMovies(response.data.results);\n        } else {\n          setError('Error searching for movies.');\n        }\n      } catch (err) {\n        setError(err.message);\n      }\n      setIsLoading(false);\n    };\n\n    const delayDebounceFn = setTimeout(() => {\n      searchMovies();\n    }, 500);\n\n    return () => clearTimeout(delayDebounceFn);\n  }, [query]);\n\n  return { movies, isLoading, error };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__nrZs1\"};","import React, { useState } from 'react';\nimport useSearchMovies from 'fetch/fetchSearch';\nimport { Link } from 'react-router-dom';\nimport css from './Movies.module.css';\nimport { Blocks } from 'react-loader-spinner';\n\nexport default function Movies() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const { movies, isLoading, error } = useSearchMovies(searchQuery);\n\n  const handleChange = e => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n  };\n\n  if (isLoading) {\n    return (\n      <div className={css.container}>\n        <Blocks\n          visible={true}\n          height=\"80\"\n          width=\"80\"\n          ariaLabel=\"blocks-loading\"\n          wrapperStyle={{}}\n          wrapperClass=\"blocks-wrapper\"\n        />\n      </div>\n    );\n  }\n\n  if (error) {\n    return <div>Error: {error}</div>;\n  }\n\n  return (\n    <div className={css.container}>\n      <h1 className={css.header}>Search Movies</h1>\n      <form onSubmit={handleSubmit}>\n        <input\n          className={css.input}\n          type=\"text\"\n          value={searchQuery}\n          onChange={handleChange}\n          placeholder=\"Search for movies...\"\n        />\n        <button type=\"submit\" className={css.button}>\n          Search\n        </button>\n      </form>\n      <ul className={css.list}>\n        {movies.map(movie => (\n          <li key={movie.id} className={css.listItem}>\n            <Link to={`/movies/${movie.id}`}>{movie.title}</Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"],"names":["apiKey","apiData","baseUrl","Movies","useState","searchQuery","setSearchQuery","query","movies","setMovies","isLoading","setIsLoading","error","setError","useEffect","searchMovies","axios","response","status","data","results","message","delayDebounceFn","setTimeout","clearTimeout","useSearchMovies","className","css","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","onSubmit","e","preventDefault","type","value","onChange","target","placeholder","map","movie","to","id","title"],"sourceRoot":""}